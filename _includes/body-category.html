<!-- start of body-category.html -->

{% capture site_caths %}{% for cath in site.categories %}{{ cath | first }}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
<!-- site_cates: {{ site_cates }} -->
{% assign cath_words = site_caths | split:',' | sort %}
<!-- cath_words: {{ cath_words }} -->

<div id="categories">
  <p>
  {% for cath in cath_words %}
  <a style="background-color: #0040ff; color: #fff; border-radius: 10px; padding: 3px 5px; font-size: 12px; font-weight: bold; text-decoration: none;" href="#{{ cath | cgi_escape }}">{{ cath }} {{ site.categories[cath] | size }}</a>
  {% endfor %}
  </p>

  {% for item in (0..site.categories.size) %}
    {% unless forloop.last %}
      {% capture this_word %}{{ cath_words[item] | strip_newlines }}{% endcapture %}
      <h2 id="{{ this_word | cgi_escape }}">{{ this_word }}</h2>
      <details>
        <summary><a href="#{{ this_word | cgi_escape }}">{{ this_word | cgi_escape }} 카테고리 모든 글 보기</a></summary>
        <ul class="posts">
      {% for post in site.categories[this_word] %}
        {% if post.title != null %}
          <li itemscope><span class="entry-date"><time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">{{ post.date | date: "%B %d, %Y" }}</time></span> &raquo; <a href="{{ post.url }}">{{ post.title }}</a></li>
        {% endif %}
      {% endfor %}
        </ul>
      </details>
    {% endunless %}
  {% endfor %}
</div>

<!-- end of body-category.html -->
